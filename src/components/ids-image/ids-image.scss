@import '../../core/ids-base';

$image-sizes: (
  'sm': (60px, 60px),
  'md': (154px, 120px),
  'lg': (300px, 350px),
);

:host {
  contain: content;
  display: inline-block;
  max-width: 100%;

  // to prevent jump on focus
  @include border-solid();
  @include border-1();
  @include border-transparent();
}

// set size
@each $key, $value in $image-sizes {
  :host([size='#{$key}']) {
    width: nth($value, 1);
    height: nth($value, 2);
  }
}

// focus state
:host([mode='light']:focus) {
  @include border-azure-60();

  box-shadow: 0 0 4px 3px rgba(54, 138, 192, 0.3);
}

:host([mode='dark']:focus) {
  @include border-azure-60();

  box-shadow: 0 0 4px 2px rgba(141, 201, 230, 0.3);
}

:host([mode='contrast']:focus) {
  @include border-azure-90();

  box-shadow: 0 0 4px 2px rgba(41, 41, 41, 0.3);
}

:host([round='true']) {
  @include rounded-round();

  width: 50px;
  height: 50px;
}

:host([user-status]) {
  @include relative();
}

.ids-image {
  max-width: 100%;
  height: auto;

  // img only related
  &:not(.placeholder) {
    @include block();

    object-fit: cover;
  }

  // placeholder styles
  &.placeholder {
    @include inline-flex();
    @include border-1();
    @include border-solid();
    @include border-slate-20();
    @include p-20();
    @include w-full();
    @include h-full();
    @include box-border();

    align-items: center;
    justify-content: center;
  }

  .audible {
    @include audible();
  }

  .user-status {
    @include absolute();

    right: 5px;
    bottom: 5px;
  }
}
